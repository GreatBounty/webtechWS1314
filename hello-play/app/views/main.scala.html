@(title: String, user: User)(content: Html)


<script type='text/javascript' src='@routes.Assets.at("javascripts/mapsInit.js")'></script>
<!DOCTYPE html>
<html lang="de">
  <head>
    <title>@title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/bootstrap.css")">
    <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
        
  	<script type="text/javascript"
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAU9mEkS3B6C43gZ5ra7UG-_va3f6belWw&sensor=false">
	</script>
    <!-- Custom styles for this template -->
    
	
	<style type="text/css">
		html { height: 100% }
		body { height: 100%; margin: 0; padding: 0; }
		#map-canvas { height: 100% }
	</style>
	<script type="text/javascript"
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAU9mEkS3B6C43gZ5ra7UG-_va3f6belWw&sensor=false">
	</script>

    <style type="text/css">
      body {
        padding-top: 50px;
      }
     

    </style>

	
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="@routes.Assets.at("javascripts/html5shiv.js")" type="text/javascript"></script>
      <script src="@routes.Assets.at("javascripts/respond.min.js")" type="text/javascript"></script>
    <![endif]-->
    
    
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css" rel="stylesheet">
 	
    <link rel="stylesheet" type="text/css" media="screen"
     href="http://tarruda.github.com/bootstrap-datetimepicker/assets/css/bootstrap-datetimepicker.min.css">
 
  </head>
  <body>
  		<input type="hidden" id="hidden_startlon" name="hidden_startlon" value="1">
		<input type="hidden" id="hidden_ziellon"  name="hidden_ziellon" value="2">
		
		<input type="hidden" id="hidden_startlat" name="hidden_startlat" value="3">
		<input type="hidden" id="hidden_ziellat"  name="hidden_ziellat" value="4">
 
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Frohe Weihnachteeeeeeeeeeeeeeeeeen! :)</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="/">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
            @if(user != null){
	            @if(user.fahrer == true){
	           	 	<li><a href="/mfgAnbieten">MFG anbieten</a></li>
	           	 	<li><a href="/mfgAnzeigen">Meine MFG anzeigen</a></li>
	            }else{
	            	<li><a href="/mfgAnzeigen">alle MFG anzeigen</a></li>
	            }
            }
            @if(session.get("connected")){
           	 <li><a href="/logout" onclick="FBLogout()">Logout</a></li>
           	 
           }
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container">
     @content
    </div><!-- /.container -->

	<script type="text/javascript" src="http://momentjs.com/downloads/moment.min.js"></script>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="@routes.Assets.at("javascripts/jquery.js")" type="text/javascript"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="@routes.Assets.at("javascripts/bootstrap.js")" type="text/javascript"></script>
	<script type='text/javascript' src='@routes.Assets.at("javascripts/ajax.js")'></script>
	<script type='text/javascript' src='@routes.Assets.at("javascripts/strecke.js")'></script>
	
	<script type='text/javascript' src='@routes.Assets.at("javascripts/moment.min.js")'></script>
	
<script type="text/javascript">
	function FBLogout(){
		FB.logout(function(response){
		//logout
	});
	}
</script>
	<div id="fb-root"></div>
	<script>
	  window.fbAsyncInit = function() {
	  FB.init({
	    appId      : '1471915593034958',
	    status     : true, // check login status
	    cookie     : true, // enable cookies to allow the server to access the session
	    xfbml      : true  // parse XFBML
	  });
	
	  // Here we subscribe to the auth.authResponseChange JavaScript event. This event is fired
	  // for any authentication related change, such as login, logout or session refresh. This means that
	  // whenever someone who was previously logged out tries to log in again, the correct case below 
	  // will be handled. 
	  FB.Event.subscribe('auth.authResponseChange', function(response) {
	    // Here we specify what we do with the response anytime this event occurs. 
	    if (response.status === 'connected') {
	      // The response object is returned with a status field that lets the app know the current
	      // login status of the person. In this case, we're handling the situation where they 
	      // have logged in to the app.
	      
	      testAPI();
	    } else if (response.status === 'not_authorized') {
	      // In this case, the person is logged into Facebook, but not into the app, so we call
	      // FB.login() to prompt them to do so. 
	      // In real-life usage, you wouldn't want to immediately prompt someone to login 
	      // like this, for two reasons:
	      // (1) JavaScript created popup windows are blocked by most browsers unless they 
	      // result from direct interaction from people using the app (such as a mouse click)
	      // (2) it is a bad experience to be continually prompted to login upon page load.
	      FB.login();
	      alert("else if ");
	    } else {
	    
	    
	      // In this case, the person is not logged into Facebook, so we call the login() 
	      // function to prompt them to do so. Note that at this stage there is no indication
	      // of whether they are logged into the app. If they aren't then they'll see the Login
	      // dialog right after they log in to Facebook. 
	      // The same caveats as above apply to the FB.login() call here.
	      FB.login();
	      alert("else ");
	    }
	  });
	  };
	
	  // Load the SDK asynchronously
	  (function(d){
	   var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
	   if (d.getElementById(id)) {return;}
	   js = d.createElement('script'); js.id = id; js.async = true;
	   js.src = "//connect.facebook.net/en_US/all.js";
	   ref.parentNode.insertBefore(js, ref);
	  }(document));
	
	  // Here we run a very simple test of the Graph API after login is successful. 
	  // This testAPI() function is only called in those cases. 
	  function testAPI() {
	    console.log('Welcome!  Fetching your information.... ');
	    FB.api('/me', function(response) {
	      console.log('Good to see you, ' + response.name + '.');
	    });
	  }
	</script>
  </body>
</html>